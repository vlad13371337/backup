{"createdAt":"2025-10-19T19:17:49.501Z","updatedAt":"2025-10-31T14:12:05.191Z","id":"AzNV92qWiV7XRfwT","name":"CODEX GENSP ĞĞ• Ğ£Ğ”ĞĞ›Ğ¯Ğ¢Ğ˜","active":false,"isArchived":true,"nodes":[{"parameters":{"updates":["message"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[-944,16],"id":"086dbb35-6edc-4ae6-8029-27f5ecdeb344","name":"Telegram Trigger","webhookId":"7f69fb95-d4a3-4e62-a0cd-5fb471d25776","credentials":{"telegramApi":{"id":"3K1NgNbrx9IJrGUB","name":"CODEX TEST DELETE"}}},{"parameters":{"resource":"assistant","operation":"create","modelId":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"GPT-4.1-MINI"},"name":"Codex","description":"=Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”Ñˆ ÑĞ°Ğ¹Ñ‚ Ğ·Ğ° Ğ¢Ğ— {{ $json.message.text }}\n","instructions":"=You are Codex, an AI coding assistant.\nRespond only with clean, concise code unless the user asks for explanation.\nTask: {{ $json.message.text }}\n","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[528,-256],"id":"f4530a37-f4e5-41b4-9843-a252556fca5d","name":"Create an assistant","credentials":{"openAiApi":{"id":"CktYcGgmw286vTYY","name":"OpenAi account 4"}}},{"parameters":{"operation":"sendDocument","chatId":"=655776590","binaryData":true,"additionalFields":{"caption":"={{ $json.fileName }}"}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[304,16],"id":"1d1deb10-49d3-4031-b92b-4854a70fa9f7","name":"Send a document","webhookId":"eefc57e3-ffad-4ab5-ad64-0d1fe52076fd","credentials":{"telegramApi":{"id":"3K1NgNbrx9IJrGUB","name":"CODEX TEST DELETE"}}},{"parameters":{"method":"POST","url":"https://api.openai.com/v1/responses","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"gpt-5-codex\",\n  \"input\": [\n    {\n      \"role\": \"user\",\n      \"content\": [\n        {\n          \"type\": \"input_text\",\n          \"text\": \"User request: {{ $json.message.text }}\\n\\nAnalyze the request and extract company information, then create a website structure.\\n\\nReturn ONLY valid JSON in this EXACT format:\\n{\\n  \\\"company\\\": {\\n    \\\"name\\\": \\\"Company Name\\\",\\n    \\\"business_type\\\": \\\"Type of business\\\",\\n    \\\"industry\\\": \\\"Industry sector\\\",\\n    \\\"style\\\": \\\"modern/elegant/professional\\\",\\n    \\\"primary_color\\\": \\\"#667eea\\\",\\n    \\\"description\\\": \\\"Brief company description\\\"\\n  },\\n  \\\"pages\\\": [\\n    {\\\"path\\\": \\\"index.html\\\", \\\"title\\\": \\\"Home\\\", \\\"brief\\\": \\\"Main landing page with hero section and key services\\\"},\\n    {\\\"path\\\": \\\"about.html\\\", \\\"title\\\": \\\"About\\\", \\\"brief\\\": \\\"Company history, mission, and team\\\"},\\n    {\\\"path\\\": \\\"services.html\\\", \\\"title\\\": \\\"Services\\\", \\\"brief\\\": \\\"Detailed service offerings\\\"},\\n    {\\\"path\\\": \\\"contact.html\\\", \\\"title\\\": \\\"Contact\\\", \\\"brief\\\": \\\"Contact form and location map\\\"}\\n  ]\\n}\\n\\nCRITICAL REQUIREMENTS:\\nâœ… Extract company details from user request\\nâœ… Create EXACTLY 5-7 main pages (minimum 5, maximum 7)\\nâœ… DO NOT include legal.html or faq.html (added automatically)\\nâœ… Each page must have: path, title, brief (2-3 sentences)\\nâœ… Choose appropriate style: modern, elegant, or professional\\nâœ… Select primary color that fits the business\\n\\nEssential pages to include:\\n- index.html (Home) - REQUIRED\\n- about.html (About) - REQUIRED  \\n- contact.html (Contact) - REQUIRED\\n- 2-4 additional pages based on business type (services, products, portfolio, blog, pricing, etc.)\\n\\nReturn ONLY the JSON object, no markdown, no explanations, no code blocks.\"\n        }\n      ]\n    }\n  ],\n  \"max_output_tokens\": 1500\n}\n","options":{"timeout":3500000}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-688,16],"id":"26f3b323-026c-4804-b77c-544332e5c920","name":"HTTP Request","credentials":{"httpHeaderAuth":{"id":"yxCnxJ9fzRfIU8hW","name":"CODEX"}}},{"parameters":{"resource":"repository","operation":"get","owner":{"__rl":true,"value":"https://github.com/vlad13371337/CODEX","mode":"url"},"repository":{"__rl":true,"value":"CODEX","mode":"list","cachedResultName":"CODEX","cachedResultUrl":"https://github.com/vlad13371337/CODEX"}},"type":"n8n-nodes-base.github","typeVersion":1.1,"position":[544,64],"id":"8718c387-6122-4602-a901-b68d99c17f6a","name":"Get a repository","webhookId":"a7aa257e-2463-4e2e-aee6-66cee38385ec","credentials":{"githubApi":{"id":"yPwti6pBURNZJcrM","name":"Codex"}}},{"parameters":{"operation":"compress","binaryPropertyName":"={{ Object.keys($binary).join(',') }}","fileName":"website.zip"},"type":"n8n-nodes-base.compression","typeVersion":1.1,"position":[144,16],"id":"81004d30-0ab8-4312-aa21-42d6dfcf38d4","name":"Compression"},{"parameters":{"method":"POST","url":"https://api.openai.com/v1/responses","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":" application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{\n  {\n    \"model\": \"gpt-5-codex\",\n    \"input\": [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"input_text\",\n            \"text\":$json.prompt_for_page\n          }\n        ]\n      }\n    ]\n  }\n}}","options":{"timeout":1800000}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-416,16],"id":"f26e210d-9188-46c3-913d-3b26acc0f787","name":"HTTP Request2","executeOnce":false,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"yxCnxJ9fzRfIU8hW","name":"CODEX"}}},{"parameters":{"jsCode":"// ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ”Ğ¼Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ²Ñ–Ğ´ Codex API\nconst response = $input.item.json;\n\nlet rawText = null;\n\n// Codex API: output[].content[]\nif (response.output && Array.isArray(response.output)) {\n  const messageItem = response.output.find(item => item.type === 'message');\n  \n  if (messageItem && messageItem.content && Array.isArray(messageItem.content)) {\n    let textItem = messageItem.content.find(item => item.type === 'output_text');\n    \n    if (textItem) {\n      rawText = textItem.output_text || textItem.text;\n      console.log(\"âœ… Found in: output[].content[] with type\", textItem.type);\n    }\n  }\n}\n\n// Ğ¤Ğ¾Ğ»Ğ»Ğ±ĞµĞº: content[0].logprobs.text\nif (!rawText && response.content && response.content[0]) {\n  if (response.content[0].logprobs && response.content[0].logprobs.text) {\n    rawText = response.content[0].logprobs.text;\n    console.log(\"âœ… Found in: content[0].logprobs.text\");\n  } else if (response.content[0].text) {\n    rawText = response.content[0].text;\n    console.log(\"âœ… Found in: content[0].text\");\n  }\n}\n\nif (!rawText) {\n  console.log(\"=== FULL RESPONSE ===\");\n  console.log(JSON.stringify(response, null, 2));\n  throw new Error(\"ĞĞµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ text! Ğ”Ğ¸Ğ²Ğ¸ÑÑŒ FULL RESPONSE Ğ² Console (F12)\");\n}\n\nconsole.log(\"=== RAW TEXT (first 500 chars) ===\");\nconsole.log(rawText.substring(0, 500));\n\n// ĞŸĞ°Ñ€ÑĞ¸Ğ¼Ğ¾ JSON\nlet parsed = {};\ntry {\n  parsed = JSON.parse(rawText);\n  console.log(\"âœ… Parsed successfully\");\n} catch (e1) {\n  console.log(\"âš ï¸ Direct parse failed, cleaning...\");\n  try {\n    let cleanText = rawText\n      .replace(/\\\\n/g, ' ')\n      .replace(/\\\\\"/g, '\"')\n      .replace(/\\\\\\\\/g, '\\\\')\n      .replace(/```json/g, '')\n      .replace(/```/g, '')\n      .trim();\n    \n    if (cleanText.startsWith('\"') && cleanText.endsWith('\"')) {\n      cleanText = cleanText.slice(1, -1);\n    }\n    \n    parsed = JSON.parse(cleanText);\n    console.log(\"âœ… Parsed after cleaning\");\n  } catch (e2) {\n    throw new Error(\"ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ñƒ: \" + e2.message);\n  }\n}\n\n// Ğ’Ğ¸Ñ‚ÑĞ³ÑƒÑ”Ğ¼Ğ¾ company Ñ– pages\nconst company = parsed.company || {\n  name: \"Professional Company\",\n  business_type: \"Business Services\",\n  industry: \"General\",\n  style: \"modern\",\n  primary_color: \"#667eea\",\n  description: \"Professional business services\"\n};\n\nconst pages = parsed.pages || [];\n\nif (pages.length === 0) {\n  throw new Error(\"Pages Ğ¿ÑƒÑÑ‚Ğ¸Ğ¹!\");\n}\n\n// ============================================\n// ğŸ¨ DESIGN SYSTEM GENERATION\n// ============================================\n\n// Helper function Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ— Ğ²Ñ–Ğ´Ñ‚Ñ–Ğ½ĞºÑ–Ğ² ĞºĞ¾Ğ»ÑŒĞ¾Ñ€Ñƒ\nfunction adjustColor(color, amount) {\n  const num = parseInt(color.replace('#', ''), 16);\n  const r = Math.max(0, Math.min(255, (num >> 16) + amount));\n  const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amount));\n  const b = Math.max(0, Math.min(255, (num & 0x0000FF) + amount));\n  return '#' + ((r << 16) | (g << 8) | b).toString(16).padStart(6, '0');\n}\n\n// Ğ“ĞµĞ½ĞµÑ€ÑƒÑ”Ğ¼Ğ¾ ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Design System Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñ– company style Ñ‚Ğ° primary_color\nconst designSystem = {\n  colors: {\n    primary: company.primary_color,\n    secondary: adjustColor(company.primary_color, -30),\n    accent: adjustColor(company.primary_color, 50),\n    dark: '#1a202c',\n    light: '#f7fafc',\n    text: '#2d3748',\n    textLight: '#718096'\n  },\n  \n  typography: {\n    fontFamily: company.style === 'modern' ? \n      \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\" : \n      company.style === 'elegant' ?\n      \"'Playfair Display', 'Georgia', serif\" :\n      \"'Roboto', 'Arial', sans-serif\",\n    \n    h1Size: '3rem',\n    h2Size: '2.25rem',\n    h3Size: '1.875rem',\n    bodySize: '1rem',\n    lineHeight: '1.6'\n  },\n  \n  spacing: {\n    xs: '0.5rem',\n    sm: '1rem',\n    md: '2rem',\n    lg: '4rem',\n    xl: '6rem'\n  },\n  \n  layout: {\n    maxWidth: '1200px',\n    headerHeight: '80px',\n    borderRadius: '8px'\n  },\n  \n  components: {\n    buttonPadding: '0.75rem 2rem',\n    buttonRadius: company.style === 'modern' ? '6px' : company.style === 'elegant' ? '30px' : '4px',\n    cardPadding: '2rem',\n    cardRadius: '12px'\n  }\n};\n\n// Design System CSS Template\nconst designSystemCSS = `\n/* ========================================= */\n/* ğŸ¨ DESIGN SYSTEM - MANDATORY FOR ALL PAGES */\n/* ========================================= */\n\n/* CSS Variables for Consistency */\n:root {\n  --color-primary: ${designSystem.colors.primary};\n  --color-secondary: ${designSystem.colors.secondary};\n  --color-accent: ${designSystem.colors.accent};\n  --color-dark: ${designSystem.colors.dark};\n  --color-light: ${designSystem.colors.light};\n  --color-text: ${designSystem.colors.text};\n  --color-text-light: ${designSystem.colors.textLight};\n  \n  --font-family: ${designSystem.typography.fontFamily};\n  --h1-size: ${designSystem.typography.h1Size};\n  --h2-size: ${designSystem.typography.h2Size};\n  --h3-size: ${designSystem.typography.h3Size};\n  --body-size: ${designSystem.typography.bodySize};\n  --line-height: ${designSystem.typography.lineHeight};\n  \n  --spacing-xs: ${designSystem.spacing.xs};\n  --spacing-sm: ${designSystem.spacing.sm};\n  --spacing-md: ${designSystem.spacing.md};\n  --spacing-lg: ${designSystem.spacing.lg};\n  --spacing-xl: ${designSystem.spacing.xl};\n  \n  --max-width: ${designSystem.layout.maxWidth};\n  --header-height: ${designSystem.layout.headerHeight};\n  --border-radius: ${designSystem.layout.borderRadius};\n  --card-radius: ${designSystem.components.cardRadius};\n}\n\n/* Global Reset */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* Base Typography */\nbody {\n  font-family: var(--font-family);\n  font-size: var(--body-size);\n  line-height: var(--line-height);\n  color: var(--color-text);\n  background: var(--color-light);\n}\n\nh1 {\n  font-size: var(--h1-size);\n  font-weight: 700;\n  line-height: 1.2;\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-dark);\n}\n\nh2 {\n  font-size: var(--h2-size);\n  font-weight: 600;\n  line-height: 1.3;\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-dark);\n}\n\nh3 {\n  font-size: var(--h3-size);\n  font-weight: 600;\n  line-height: 1.4;\n  margin-bottom: var(--spacing-xs);\n  color: var(--color-dark);\n}\n\np {\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-text);\n}\n\na {\n  color: var(--color-primary);\n  text-decoration: none;\n  transition: color 0.3s ease;\n}\n\na:hover {\n  color: var(--color-secondary);\n}\n\n/* LAYOUT STRUCTURE - IDENTICAL ON ALL PAGES */\n\nheader {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: var(--header-height);\n  background: white;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  z-index: 1000;\n}\n\nmain {\n  margin-top: var(--header-height);\n  min-height: calc(100vh - var(--header-height));\n}\n\nsection {\n  padding: var(--spacing-lg) var(--spacing-md);\n  max-width: var(--max-width);\n  margin: 0 auto;\n}\n\n.container {\n  max-width: var(--max-width);\n  margin: 0 auto;\n  padding: 0 var(--spacing-md);\n}\n\n/* NAVIGATION - MUST BE IDENTICAL */\n\nnav {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 var(--spacing-md);\n  height: 100%;\n  max-width: var(--max-width);\n  margin: 0 auto;\n}\n\nnav .logo {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  text-decoration: none;\n  transition: transform 0.3s ease;\n}\n\nnav .logo:hover {\n  transform: scale(1.05);\n}\n\nnav ul {\n  display: flex;\n  gap: var(--spacing-md);\n  list-style: none;\n  align-items: center;\n}\n\nnav ul li a {\n  color: var(--color-text);\n  text-decoration: none;\n  font-weight: 500;\n  padding: 0.5rem 0;\n  position: relative;\n  transition: color 0.3s ease;\n}\n\nnav ul li a:hover {\n  color: var(--color-primary);\n}\n\nnav ul li a::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background: var(--color-primary);\n  transition: width 0.3s ease;\n}\n\nnav ul li a:hover::after {\n  width: 100%;\n}\n\n/* BUTTONS - CONSISTENT STYLE */\n\n.btn {\n  display: inline-block;\n  padding: ${designSystem.components.buttonPadding};\n  border-radius: ${designSystem.components.buttonRadius};\n  font-weight: 600;\n  text-align: center;\n  cursor: pointer;\n  border: none;\n  transition: all 0.3s ease;\n  font-size: var(--body-size);\n  text-decoration: none;\n}\n\n.btn-primary {\n  background: var(--color-primary);\n  color: white;\n}\n\n.btn-primary:hover {\n  background: var(--color-secondary);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.btn-secondary {\n  background: transparent;\n  color: var(--color-primary);\n  border: 2px solid var(--color-primary);\n}\n\n.btn-secondary:hover {\n  background: var(--color-primary);\n  color: white;\n}\n\n/* CARDS - CONSISTENT STYLE */\n\n.card {\n  background: white;\n  border-radius: var(--card-radius);\n  padding: ${designSystem.components.cardPadding};\n  box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.card:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 24px rgba(0,0,0,0.12);\n}\n\n.card h3 {\n  color: var(--color-primary);\n  margin-bottom: var(--spacing-sm);\n}\n\n.card p {\n  color: var(--color-text-light);\n}\n\n/* GRID LAYOUTS */\n\n.grid {\n  display: grid;\n  gap: var(--spacing-md);\n}\n\n.grid-2 {\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n\n.grid-3 {\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n}\n\n/* IMAGES */\n\nimg {\n  max-width: 100%;\n  height: auto;\n  display: block;\n  border-radius: var(--border-radius);\n}\n\n.hero-image {\n  width: 100%;\n  height: 500px;\n  object-fit: cover;\n  border-radius: var(--border-radius);\n}\n\n/* FOOTER - CONSISTENT STRUCTURE */\n\nfooter {\n  background: var(--color-dark);\n  color: white;\n  padding: var(--spacing-lg) var(--spacing-md);\n  margin-top: var(--spacing-xl);\n}\n\nfooter .footer-content {\n  max-width: var(--max-width);\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-md);\n}\n\nfooter h3 {\n  color: white;\n  margin-bottom: var(--spacing-sm);\n  font-size: 1.2rem;\n}\n\nfooter a {\n  color: var(--color-accent);\n  display: block;\n  margin-bottom: 0.5rem;\n}\n\nfooter a:hover {\n  color: white;\n}\n\nfooter .footer-bottom {\n  margin-top: var(--spacing-md);\n  padding-top: var(--spacing-md);\n  border-top: 1px solid rgba(255,255,255,0.1);\n  text-align: center;\n  color: var(--color-text-light);\n}\n\n/* HERO SECTION - CONSISTENT STYLE */\n\n.hero {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);\n  color: white;\n  padding: var(--spacing-xl) var(--spacing-md);\n  text-align: center;\n  border-radius: var(--border-radius);\n  margin-bottom: var(--spacing-lg);\n}\n\n.hero h1 {\n  color: white;\n  font-size: 3.5rem;\n  margin-bottom: var(--spacing-sm);\n}\n\n.hero p {\n  color: rgba(255,255,255,0.9);\n  font-size: 1.2rem;\n  margin-bottom: var(--spacing-md);\n}\n\n/* COOKIE BANNER */\n\n#cookie-banner {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0,0,0,0.95);\n  color: white;\n  padding: var(--spacing-md);\n  z-index: 10000;\n  display: none;\n  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);\n}\n\n#cookie-banner .cookie-content {\n  max-width: var(--max-width);\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: var(--spacing-md);\n}\n\n#cookie-banner .cookie-buttons {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n#cookie-banner button {\n  padding: 0.5rem 1.5rem;\n  border: none;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n}\n\n#accept-cookies {\n  background: var(--color-primary);\n  color: white;\n}\n\n#accept-cookies:hover {\n  background: var(--color-secondary);\n}\n\n#decline-cookies {\n  background: transparent;\n  color: white;\n  border: 2px solid white;\n}\n\n#decline-cookies:hover {\n  background: white;\n  color: var(--color-dark);\n}\n\n/* MOBILE RESPONSIVE */\n\n@media (max-width: 768px) {\n  :root {\n    --h1-size: 2rem;\n    --h2-size: 1.5rem;\n    --h3-size: 1.25rem;\n    --spacing-lg: 2rem;\n    --spacing-xl: 3rem;\n  }\n  \n  nav {\n    flex-direction: column;\n    padding: var(--spacing-sm);\n  }\n  \n  nav ul {\n    flex-direction: column;\n    gap: var(--spacing-sm);\n    text-align: center;\n  }\n  \n  .hero h1 {\n    font-size: 2rem;\n  }\n  \n  #cookie-banner .cookie-content {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .grid-2, .grid-3 {\n    grid-template-columns: 1fr;\n  }\n}\n`;\n\nconsole.log(\"âœ… Design System ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾:\", designSystem.colors.primary);\n\n// ============================================\n// MANDATORY PAGES\n// ============================================\n\nconst mandatoryPages = [\n  {\n    path: \"legal.html\",\n    title: \"Terms & Privacy\",\n    brief: \"Combined Terms of Service and Privacy Policy page\"\n  },\n  {\n    path: \"faq.html\",\n    title: \"FAQ\",\n    brief: \"Frequently asked questions and answers\"\n  }\n];\n\nconst allPages = [...pages, ...mandatoryPages];\n\nconsole.log(\"âœ… Company:\", company.name);\nconsole.log(\"âœ… Main Pages:\", pages.length);\nconsole.log(\"âœ… Total Pages (with mandatory):\", allPages.length);\n\nconst userBrief = \"Create a modern professional website\";\n\n// ============================================\n// GENERATE PROMPTS WITH DESIGN SYSTEM\n// ============================================\n\nconst output = allPages.map(page => {\n  const isMandatory = mandatoryPages.some(mp => mp.path === page.path);\n  \n  return {\n    json: {\n      path: page.path,\n      title: page.title,\n      \n      // ğŸ”¥ Ğ’Ğ¡Ğ• ĞĞ‘'Ğ„Ğ”ĞĞĞĞ Ğ’ prompt_for_page\n      prompt_for_page: `\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘  ğŸ¨ DESIGN SYSTEM - CRITICAL: USE IN ALL PAGES!              â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCOMPANY CONTEXT:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nCompany Name: ${company.name}\nBusiness Type: ${company.business_type}\nIndustry: ${company.industry}\nStyle: ${company.style}\nPrimary Color: ${company.primary_color}\nDescription: ${company.description}\n\nâš ï¸  CRITICAL: This page is part of ${company.name} website.\nâš ï¸  ALL pages MUST use the SAME company name, branding, and theme!\nâš ï¸  DO NOT create content for different businesses!\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸ¨ DESIGN SYSTEM CSS - INCLUDE IN <style> TAG:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n${designSystemCSS}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸ“ HTML STRUCTURE - MANDATORY REQUIREMENTS:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… MUST START with: <!DOCTYPE html>\nâœ… MUST END with: </html>\nâœ… ALL TAGS MUST BE CLOSED properly\nâœ… Include Font Awesome for icons: \n   <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n\nEXAMPLE STRUCTURE:\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${page.title} - ${company.name}</title>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n  <style>\n    ${designSystemCSS}\n    /* Page-specific styles here */\n  </style>\n</head>\n<body>\n  <header>\n    <nav>\n      <a href=\"index.html\" class=\"logo\">${company.name}</a>\n      <ul>\n        ${allPages.map(p => `<li><a href=\"${p.path}\">${p.title}</a></li>`).join('\\n        ')}\n      </ul>\n    </nav>\n  </header>\n  \n  <main>\n    <!-- Page content here -->\n  </main>\n  \n  <footer>\n    <div class=\"footer-content\">\n      <div>\n        <h3>${company.name}</h3>\n        <p>${company.description}</p>\n        <p><i class=\"fas fa-phone\"></i> +1 (555) 123-4567</p>\n        <p><i class=\"fas fa-envelope\"></i> info@${company.name.toLowerCase().replace(/\\s+/g, '')}.com</p>\n        <p><i class=\"fas fa-map-marker-alt\"></i> 123 Business St, City</p>\n      </div>\n      \n      <div>\n        <h3>Quick Links</h3>\n        ${allPages.map(p => `<a href=\"${p.path}\">${p.title}</a>`).join('\\n        ')}\n      </div>\n      \n      <div>\n        <h3>Follow Us</h3>\n        <a href=\"https://facebook.com\" target=\"_blank\"><i class=\"fab fa-facebook\"></i> Facebook</a>\n        <a href=\"https://instagram.com\" target=\"_blank\"><i class=\"fab fa-instagram\"></i> Instagram</a>\n        <a href=\"https://twitter.com\" target=\"_blank\"><i class=\"fab fa-twitter\"></i> Twitter</a>\n        <a href=\"https://linkedin.com\" target=\"_blank\"><i class=\"fab fa-linkedin\"></i> LinkedIn</a>\n      </div>\n      \n      <div>\n        <h3>Legal</h3>\n        <a href=\"faq.html\">FAQ</a>\n        <a href=\"legal.html\">Terms & Privacy</a>\n      </div>\n    </div>\n    \n    <div class=\"footer-bottom\">\n      <p>Â© ${new Date().getFullYear()} ${company.name}. All rights reserved.</p>\n      <p><strong>âš ï¸ DISCLAIMER:</strong> Ğ’ÑÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ¸ÑĞºĞ»ÑÑ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ² Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ñ†ĞµĞ»ÑÑ….</p>\n      <p><strong>âš ï¸ DISCLAIMER:</strong> All information is provided for informational purposes only.</p>\n    </div>\n  </footer>\n  \n  <div id=\"cookie-banner\" style=\"display: none;\">\n    <div class=\"cookie-content\">\n      <p>ğŸª We use cookies to improve your experience on our website.</p>\n      <div class=\"cookie-buttons\">\n        <button id=\"accept-cookies\">Accept</button>\n        <button id=\"decline-cookies\">Decline</button>\n      </div>\n    </div>\n  </div>\n  \n  <script>\n    document.addEventListener('DOMContentLoaded', function() {\n      const banner = document.getElementById('cookie-banner');\n      if (!localStorage.getItem('cookieConsent')) {\n        banner.style.display = 'block';\n      }\n      document.getElementById('accept-cookies').addEventListener('click', function() {\n        localStorage.setItem('cookieConsent', 'accepted');\n        banner.style.display = 'none';\n      });\n      document.getElementById('decline-cookies').addEventListener('click', function() {\n        localStorage.setItem('cookieConsent', 'declined');\n        banner.style.display = 'none';\n      });\n    });\n  </script>\n</body>\n</html>\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n${page.path === 'legal.html' ? `\nğŸ“œ SPECIAL: LEGAL PAGE\nâœ… Combine Terms of Service AND Privacy Policy\nâœ… Two sections with tab navigation\n` : ''}\n\n${page.path === 'contact.html' || page.path === 'index.html' ? `\nğŸ—ºï¸  GOOGLE MAP REQUIRED:\n<iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.1422937950147!2d-73.98731968482413!3d40.75889497932681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25855c6480299%3A0x55194ec5a1ae072e!2sTimes+Square!5e0!3m2!1sen!2sus!4v1510579767645\" width=\"100%\" height=\"400\" style=\"border:0\" allowfullscreen loading=\"lazy\"></iframe>\n` : ''}\n\nğŸ–¼ï¸  IMAGES: Use Pexels format:\nhttps://images.pexels.com/photos/[ID]/pexels-photo-[ID].jpeg?auto=compress&cs=tinysrgb&w=WIDTH\n\nğŸ“„ PAGE CONTENT:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nPage: ${page.path}\nTitle: ${page.title}\nBrief: ${page.brief}\nStyle: ${company.style}, professional, modern\n\nCreate rich content with hero sections, cards, grids!\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nReturn ONLY valid JSON:\n{\n  \"path\": \"${page.path}\",\n  \"content\": \"<!DOCTYPE html>...complete HTML...</html>\"\n}\n`\n    }\n  };\n});\n\nreturn output;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-560,16],"id":"caa510c1-af2f-4fc8-b43a-daa0bfb4078c","name":"1Code in JavaScript"},{"parameters":{"jsCode":"// Ğ’Ğ¸Ñ‚ÑĞ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ HTML Ğ· Codex API response\nconst items = [];\n\nfor (let i = 0; i < $input.all().length; i++) {\n  const response = $input.all()[i].json;\n  \n  console.log(`\\n=== Processing item ${i} ===`);\n  \n  let htmlData = null;\n  \n  // Ğ¨ÑƒĞºĞ°Ñ”Ğ¼Ğ¾ Ğ² output[] ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ğ· type === \"message\"\n  if (response.output && Array.isArray(response.output)) {\n    for (const outputItem of response.output) {\n      // Ğ¨ÑƒĞºĞ°Ñ”Ğ¼Ğ¾ message type\n      if (outputItem.type === 'message' && outputItem.content && Array.isArray(outputItem.content)) {\n        for (const contentItem of outputItem.content) {\n          // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾ ĞĞ‘Ğ Ğ²Ğ°Ñ€Ñ–Ğ°Ğ½Ñ‚Ğ¸: text Ñ– output_text\n          const rawText = contentItem.text || contentItem.output_text;\n          \n          if (rawText) {\n            console.log('âœ… Ğ—Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ text/output_text!');\n            \n            let cleanText = rawText.trim();\n            \n            // Ğ’Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ğ¼Ğ¾ markdown Ğ±Ğ»Ğ¾ĞºĞ¸ ÑĞºÑ‰Ğ¾ Ñ”\n            if (cleanText.includes('```json')) {\n              cleanText = cleanText.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n            }\n            if (cleanText.includes('```')) {\n              cleanText = cleanText.replace(/```\\n?/g, '').trim();\n            }\n            \n            try {\n              // ĞŸĞ°Ñ€ÑĞ¸Ğ¼Ğ¾ JSON\n              const parsed = JSON.parse(cleanText);\n              \n              if (parsed.path && parsed.content) {\n                htmlData = {\n                  path: parsed.path,\n                  content: parsed.content\n                };\n                console.log(`âœ… Extracted: ${parsed.path} (${parsed.content.length} chars)`);\n                break;\n              } else {\n                console.log('âš ï¸ JSON Ğ½Ğµ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ path/content');\n              }\n            } catch (e) {\n              console.log('âŒ JSON.parse error:', e.message);\n              console.log('Text preview:', cleanText.substring(0, 200));\n            }\n          }\n        }\n        if (htmlData) break;\n      }\n    }\n  }\n  \n  // Ğ”Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚\n  if (htmlData) {\n    items.push({\n      json: htmlData\n    });\n  } else {\n    console.log('âŒ HTML Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ´Ğ»Ñ item', i);\n  }\n}\n\nconsole.log(`\\nğŸ“Š Extracted: ${items.length}/${$input.all().length} items`);\n\nif (items.length === 0) {\n  throw new Error('âŒ ĞĞµ Ğ²Ğ¸Ñ‚ÑĞ³Ğ½ÑƒÑ‚Ğ¾ Ğ¶Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ HTML!');\n}\n\nreturn items;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-272,16],"id":"b5f57f58-4453-4a83-bfa2-88b330d98a9c","name":"Extract HTML"},{"parameters":{"batchSize":"=#!/bin/bash\n\n# Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”Ğ¼Ğ¾ Ğ¿Ğ°Ğ¿ĞºÑƒ ÑĞºÑ‰Ğ¾ Ğ½ĞµĞ¼Ğ°Ñ”\nFOLDER=\"/tmp/website_build\"\nmkdir -p \"$FOLDER\"\n\n# Ğ—Ğ°Ğ¿Ğ¸ÑÑƒÑ”Ğ¼Ğ¾ Ñ„Ğ°Ğ¹Ğ»\ncat > \"$FOLDER/{{$json.path}}\" << 'ENDOFFILE'\n{{$json.content}}\nENDOFFILE\n\necho \"Created: {{$json.path}}\"\n","options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-96,-336],"id":"69102aff-84af-4b81-b5fb-a4ffa788223b","name":"Loop Over Items"},{"parameters":{},"type":"n8n-nodes-base.noOp","name":"Replace Me","typeVersion":1,"position":[144,-320],"id":"3797b2dc-9991-4c59-891d-6fd93cc62447"},{"parameters":{"jsCode":"const items = $input.all();\n\nreturn [{\n  json: {\n    files: items.map(item => ({\n      path: item.json.path,\n      content: item.json.content\n    })),\n    timestamp: Date.now()\n  }\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-128,16],"id":"99856757-f8e0-476e-b4ec-8daa6727a9e0","name":"Aggregate Files"},{"parameters":{"command":"=#!/bin/bash\n\n# Ğ¨Ğ»ÑÑ… Ğ´Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ñƒ Ğ² AI Drive\nFILE_PATH=\"{{$json.output}}\"\n\n# Ğ’Ğ¸Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ ÑˆĞ»ÑÑ… Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ\necho \"File saved: $FILE_PATH\"\necho \"Access via AI Drive web interface\"\n\n# Ğ’Ğ¸Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ»Ñ n8n\necho \"$FILE_PATH\"\n"},"type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[320,-256],"id":"9f7ed85e-1278-4c68-aa5a-f72d0142cdad","name":"Bash \"Get AI Drive URL\""},{"parameters":{"aggregate":"aggregateAllItemData","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[-368,-368],"id":"0b3b7985-ef01-41f1-a38d-fde1d6751f07","name":"Aggregate"},{"parameters":{"jsCode":"const aggregatedData = $input.first().json;\n\nconsole.log(`ğŸ“¤ Preparing ${aggregatedData.files.length} files in ONE item`);\n\nconst binaryData = {};\nconst binaryFieldNames = [];\n\nfor (let i = 0; i < aggregatedData.files.length; i++) {\n  const file = aggregatedData.files[i];\n  const contentBuffer = Buffer.from(file.content, 'utf-8');\n  const fieldName = `file${i}`;\n  \n  binaryData[fieldName] = {\n    data: contentBuffer.toString('base64'),\n    mimeType: 'text/html',\n    fileName: file.path\n  };\n  \n  binaryFieldNames.push(fieldName);\n}\n\nconsole.log(`âœ… Binary fields: ${binaryFieldNames.join(', ')}`);\n\nreturn [{\n  json: {\n    totalFiles: aggregatedData.files.length,\n    binaryFields: binaryFieldNames.join(',')  // â† Ğ´Ğ»Ñ ĞºĞ¾Ğ¿Ñ–ÑĞ²Ğ°Ğ½Ğ½Ñ\n  },\n  binary: binaryData\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[16,16],"id":"91ef610e-d164-4eae-9a0f-ecd7866ed3e4","name":"Code in JavaScript"},{"parameters":{"jsCode":"// ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ”Ğ¼Ğ¾ Ğ²Ñ…Ñ–Ğ´Ğ½Ñ– Ğ´Ğ°Ğ½Ñ–\nconst inputData = $input.all();\n\n// ĞĞ±Ñ€Ğ¾Ğ±Ğ»ÑÑ”Ğ¼Ğ¾ ĞºĞ¾Ğ¶ĞµĞ½ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚\nconst output = inputData.map(item => {\n  // Ğ’Ğ¸Ñ‚ÑĞ³ÑƒÑ”Ğ¼Ğ¾ Ñ‚ĞµĞºÑÑ‚ Ğ· Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¸Ñ… Ğ´Ğ¶ĞµÑ€ĞµĞ»\n  let text = item.json.message?.text || \n             item.json.text || \n             item.json.query || \n             item.json.prompt || \n             '';\n  \n  // ĞĞ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·ÑƒÑ”Ğ¼Ğ¾ Ñ‚ĞµĞºÑÑ‚:\n  // 1. Ğ’Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ğ¼Ğ¾ Ğ·Ğ°Ğ¹Ğ²Ñ– Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸ Ñ‚Ğ° Ñ‚Ğ°Ğ±ÑƒĞ»ÑÑ†Ñ–Ñ—\n  // 2. Ğ—Ğ°Ğ¼Ñ–Ğ½ÑÑ”Ğ¼Ğ¾ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸ Ñ€ÑĞ´ĞºÑ–Ğ² Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸\n  // 3. ĞŸÑ€Ğ¸Ğ±Ğ¸Ñ€Ğ°Ñ”Ğ¼Ğ¾ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ñ– Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸\n  const normalizedText = text\n    .replace(/\\r\\n/g, ' ')     // Windows Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸ â†’ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»\n    .replace(/\\n/g, ' ')       // Unix Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸ â†’ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»\n    .replace(/\\r/g, ' ')       // Mac Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸ â†’ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»\n    .replace(/\\t/g, ' ')       // Ğ¢Ğ°Ğ±ÑƒĞ»ÑÑ†Ñ–Ñ— â†’ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»\n    .replace(/\\s+/g, ' ')      // ĞœĞ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ñ– Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸ â†’ Ğ¾Ğ´Ğ¸Ğ½ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»\n    .trim();                    // Ğ’Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ğ¼Ğ¾ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ/ĞºÑ–Ğ½Ñ†Ñ–\n  \n  console.log(\"=== TEXT NORMALIZER ===\");\n  console.log(\"Original:\", text);\n  console.log(\"Normalized:\", normalizedText);\n  \n  // ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ğ¼Ğ¾ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ñ– Ğ´Ğ°Ğ½Ñ–\n  return {\n    json: {\n      ...item.json,\n      message: {\n        ...item.json.message,\n        text: normalizedText\n      },\n      text: normalizedText,\n      query: normalizedText,\n      prompt: normalizedText,\n      normalized_text: normalizedText // Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ğµ Ğ¿Ğ¾Ğ»Ğµ\n    }\n  };\n});\n\nreturn output;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-816,16],"id":"66917ccf-4fd6-49fe-b7e9-d2b97857606d","name":"Code in JavaScript1"}],"connections":{"Telegram Trigger":{"main":[[{"node":"Code in JavaScript1","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"1Code in JavaScript","type":"main","index":0}]]},"Compression":{"main":[[{"node":"Send a document","type":"main","index":0}]]},"HTTP Request2":{"main":[[{"node":"Extract HTML","type":"main","index":0}]]},"1Code in JavaScript":{"main":[[{"node":"HTTP Request2","type":"main","index":0}]]},"Extract HTML":{"main":[[{"node":"Aggregate Files","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Replace Me","type":"main","index":0}]]},"Replace Me":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Aggregate Files":{"main":[[{"node":"Code in JavaScript","type":"main","index":0}]]},"Aggregate":{"main":[[]]},"Code in JavaScript":{"main":[[{"node":"Compression","type":"main","index":0}]]},"Code in JavaScript1":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"c7e7520b-c37e-4597-985e-12354cdf6947","triggerCount":1,"shared":[{"createdAt":"2025-10-19T19:17:49.501Z","updatedAt":"2025-10-19T19:17:49.501Z","role":"workflow:owner","workflowId":"AzNV92qWiV7XRfwT","projectId":"nX80NbTFpj6pvsnR"}],"tags":[]}