{"createdAt":"2025-07-18T11:32:58.167Z","updatedAt":"2025-07-18T11:32:58.167Z","id":"gCaj9f3U0gAEjdKm","name":"–±—ñ–∑–Ω–µ—Å —Ç—Ä–µ–Ω–µ—Ä","active":false,"isArchived":false,"nodes":[{"parameters":{"chatId":"–≤–∞—à","text":"={{ $json.message }}","additionalFields":{"appendAttribution":false,"parse_mode":"HTML"}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1280,0],"id":"e90735d1-4fd2-4c4f-b1e6-fc35c73e0996","name":"Telegram","webhookId":"d62a39f7-92e2-455e-9769-bf2876b54ad4","notesInFlow":false},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-200,160],"id":"5632ff24-ccbd-4f69-bbf3-7adfd2a964f4","name":"When Executed by Another Workflow"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"rop","mode":"list","cachedResultName":"rop"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[1280,160],"id":"c36058cc-6258-44e9-94c7-b0d58af7aada","name":"Supabase Vector Store2"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1300,420],"id":"da3e999c-edd9-4152-be2e-2ee22222f95f","name":"Embeddings OpenAI2"},{"parameters":{"separator":"\\n\\n"},"type":"@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter","typeVersion":1,"position":[1460,420],"id":"5e59d5f8-b981-49e9-9c06-2c689ab6d1fd","name":"Character Text Splitter"},{"parameters":{"options":{"metadata":{"metadataValues":[{"name":"ROP","value":"={{ $json.Document }}"},{"name":"Metadata","value":"={{ $json.Metadata }}"},{"name":" External_id ","value":"={{ $json.External_id }}"}]}}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1280,300],"id":"61c8cb78-db50-4cf0-aff0-0509f08a9bf9","name":"Default Data Loader1"},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"rop","mode":"list","cachedResultName":"rop"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[180,160],"id":"1fed9ff0-3f23-4e00-b8a2-c9d3914d960b","name":"Supabase Vector Store"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[180,420],"id":"73e0ac9d-eb23-41fc-aad3-3e721ed0caff","name":"Embeddings OpenAI"},{"parameters":{"separator":"\\n\\n"},"type":"@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter","typeVersion":1,"position":[360,420],"id":"27cac401-11cb-452e-bc76-a2bf5fac0437","name":"Character Text Splitter1"},{"parameters":{"options":{"metadata":{"metadataValues":[{"name":"ROP","value":"={{ $json.Document }}"},{"name":"Metadata","value":"={{ $json.Metadata }}"},{"name":" External_id ","value":"={{ $json.External_id }}"}]}}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[180,300],"id":"656ebbbd-36db-419f-926c-5aedabcd9ee9","name":"Default Data Loader"},{"parameters":{"toolDescription":"Use this tool to search the internet","method":"POST","url":"https://api.tavily.com/search","sendBody":true,"specifyBody":"json","jsonBody":"{\n    \"api_key\": \"–∫–æ–¥\",\n    \"query\": \"{searchTerm}\",\n    \"search_depth\": \"basic\",\n    \"include_answer\": true,\n    \"topic\": \"news\",\n    \"include_raw_content\": true,\n    \"max_results\": 3\n} ","placeholderDefinitions":{"values":[{"name":"searchTerm","description":"What the user has requested to search the internet for","type":"string"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[700,420],"id":"0303d52f-7b25-457f-8826-e9762d9286be","name":"Tavily"},{"parameters":{"assignments":{"assignments":[{"id":"7ab380a2-a8d3-421c-ab4e-748ea8fb7904","name":"response","value":"Unable to perform task. Please try again.","type":"string"}]},"options":{}},"id":"8e174908-6b6a-4ca7-8f08-ad56fab08b6a","name":"Try Again1","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1120,320]},{"parameters":{"assignments":{"assignments":[{"id":"39c2f302-03be-4464-a17a-d7cc481d6d44","name":"=response","value":"={{$json.output}}","type":"string"}]},"options":{}},"id":"5a620eeb-e032-4eae-8948-0860a0f1dd50","name":"Success1","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1120,160]},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $json.chatId }}\n","contextWindowLength":20},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[540,420],"id":"546c861d-be83-42cf-bbc7-52bca410a922","name":"Simple Memory1"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[860,420],"id":"3d856938-eb0f-42f4-8b2c-cec57828f71f","name":"Think1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[720,20],"id":"8b9e90e6-e03b-45f5-8083-321339919bb1","name":"Embeddings OpenAI1"},{"parameters":{"documentId":{"__rl":true,"value":"1DY1CiYBNKFcaLDND8r1oN7mXKBoGvSH9IrHc5dg9V0E","mode":"list","cachedResultName":"note","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1DY1CiYBNKFcaLDND8r1oN7mXKBoGvSH9IrHc5dg9V0E/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":1620706853,"mode":"list","cachedResultName":"Kerui Price","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1DY1CiYBNKFcaLDND8r1oN7mXKBoGvSH9IrHc5dg9V0E/edit#gid=1620706853"},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.6,"position":[1000,420],"id":"daf4026a-a07b-4667-ab5f-cd6f964722ac","name":"Google Sheets"},{"parameters":{"jsCode":"return [{\n  json: {\n    prompt: $json.query || $json.pageContent || '–Ω–µ—Ç –∑–∞–ø—Ä–æ—Å–∞'\n  }\n}];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[500,160],"id":"8a53f480-a9bb-4e17-837b-f0815e841cef","name":"Code1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-200,320],"id":"4335a326-1bad-4156-bce6-1c4688d31c1a","name":"When chat message received","webhookId":"551a64f7-5825-4c97-baba-3fce01045536"},{"parameters":{"assignments":{"assignments":[{"id":"4902bf9e-ef8a-49e0-a8a0-4cf3ab65a242","name":"  query","value":"={{ $json.chatInput }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[0,320],"id":"7cdcbae4-6eb3-477c-8ea1-ba05b70b95e7","name":"Edit Fields"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[600,20],"id":"cff6996a-1879-4138-b37b-39a8cfaac37d","name":"OpenAI Chat Model"},{"parameters":{"jsCode":"/**\n * Telegram HTML-safe Chunker v2.2\n * ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç —Å parse_mode = HTML\n * ‚Ä¢ –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –ª—é–±—ã–µ —Ç–µ–≥–∏, –∫—Ä–æ–º–µ whitelisted\n * ‚Ä¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç Markdown-—Ç–∞–±–ª–∏—Ü—ã –≤ —Å–ø–∏—Å–∫–∏\n * ‚Ä¢ –î–µ–ª–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∫—É—Å–∫–∏ ‚â§ CHUNK_SIZE\n * ‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç [{json:{message:\"‚Ä¶\"}} ...]\n */\n\n/* ‚îÄ‚îÄ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */\nconst RAW_TEXT     = ($json.output ?? $json.text ?? '').toString();\nconst CHUNK_SIZE   = +($env.CHUNK_SIZE ?? 3500);       // 4096 ‚Äì –∑–∞–ø–∞—Å –Ω–∞ —Ç–µ–≥–∏\nconst ENABLE_TABLE = ($env.ENABLE_TABLE ?? 'true') === 'true';\nconst ALLOWED_TAGS = ['b','i','u','s','code','pre','a']; // whitelist\n\n/* ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */\nconst escapeHTML = s => s\n  .replace(/&/g,  '&amp;')\n  .replace(/</g,  '&lt;')\n  .replace(/>/g,  '&gt;')\n  .replace(/\"/g,  '&quot;')\n  .replace(/'/g,  '&#39;');\n\nfunction whitelistTags(str){\n  const placeholders = [];\n  const masked = str.replace(/<\\/?([a-z0-9]+)(\\b[^>]*)?>/gi,(m,tag)=>{\n    if (ALLOWED_TAGS.includes(tag.toLowerCase())){\n      const id = placeholders.push(m) - 1;\n      return `¬ß¬ß${id}¬ß¬ß`;\n    }\n    return m;                // –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º\n  });\n  let safe = escapeHTML(masked);\n  placeholders.forEach((tag,i)=>{\n    safe = safe.replace(`¬ß¬ß${i}¬ß¬ß`, tag);\n  });\n  return safe;\n}\n\n// Markdown-—Ç–∞–±–ª–∏—Ü–∞ ‚Üí HTML-—Å–ø–∏—Å–æ–∫\nfunction pipeTableToList(md){\n  const lines = md.split('\\n').filter(l => /^\\|.*\\|$/.test(l));\n  if (lines.length < 2) return md;\n  const hdr  = lines[0].split('|').map(t => t.trim()).filter(Boolean);\n  const rows = lines.slice(2).map(r => r.split('|').map(c => c.trim()).filter(Boolean));\n  return rows.map(r =>\n    r.map((c,i)=>`<b>${escapeHTML(hdr[i])}</b>: ${escapeHTML(c)}`).join('\\n')\n  ).join('\\n\\n');\n}\n\n// –¥–µ–ª–∏–º, –ø–µ—Ä–µ–Ω–æ—Å—è –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Ç–µ–≥–∏\nfunction splitSmartHTML(src){\n  const out = [];\n  let openTags = [];\n  for (let s = 0; s < src.length; ){\n    let e = s + CHUNK_SIZE;\n    if (e < src.length){\n      const br = Math.max(src.lastIndexOf('\\n',e),\n                          src.lastIndexOf('. ',e),\n                          src.lastIndexOf(' ',e));\n      if (br > s + 200) e = br;\n    }\n    let chunk = src.slice(s,e);\n\n    const opened = [...chunk.matchAll(/<([a-z]+)(?: [^>]*?)?>/gi)].map(m=>m[1]);\n    const closed = [...chunk.matchAll(/<\\/([a-z]+)>/gi)].map(m=>m[1]);\n\n    if (openTags.length){\n      chunk = openTags.map(t=>`<${t}>`).join('') + chunk;\n    }\n\n    opened.forEach(t => openTags.push(t));\n    closed.forEach(t => {\n      const idx = openTags.lastIndexOf(t);\n      if (idx > -1) openTags.splice(idx,1);\n    });\n\n    if (openTags.length){\n      chunk += openTags.slice().reverse().map(t=>`</${t}>`).join('');\n    }\n\n    out.push(chunk.trim());\n    s = e;\n  }\n  return out;\n}\n\n/* ‚îÄ‚îÄ Pipeline ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */\nlet txt = RAW_TEXT;\n\n// 1) Markdown-—Ç–∞–±–ª–∏—Ü—ã ‚Üí —Å–ø–∏—Å–∫–∏\nif (ENABLE_TABLE && /\\|.*\\|/.test(txt)){\n  txt = txt.replace(/((?:\\|.+\\n?)+)/g, m => pipeTableToList(m));\n}\n\n// 2) —É–±–∏—Ä–∞–µ–º zero-width –∏ control-—Å–∏–º–≤–æ–ª—ã\ntxt = txt.replace(/[\\u200B-\\u200D\\uFEFF]/g,'')\n         .replace(/[\\x00-\\x09\\x0B-\\x1F]/g,'');\n\n// 3) –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è NFC\ntxt = txt.normalize('NFC');\n\n// 4) —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ + whitelist\ntxt = whitelistTags(txt);\n\n// 5) —Å–ø–ª–∏—Ç –∏ –≤—ã–≤–æ–¥\nreturn splitSmartHTML(txt).map(chunk => ({ json: { message: chunk } }));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1120,0],"id":"4fd88710-71f3-4eed-b2f0-d87f1cfff9b7","name":"Code2"},{"parameters":{"jsCode":"return [\n  {\n    json: {\n      chatInput: $json[\"query\"] ?? '',\n    }\n  }\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[0,160],"id":"02b80f83-0e9e-4ff2-8808-2545357f7734","name":"Code3"},{"parameters":{"chatId":"–≤–∞—à","text":"‚è≥ –ë–∏–∑–Ω–µ—Å- —Ç—Ä–µ–Ω–µ—Ä –≥–æ—Ç–æ–≤–∏—Ç –æ—Ç–≤–µ—Ç...","additionalFields":{}},"id":"895596a5-4991-4165-a5f4-23d0f873cae0","name":"–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø–∏—Å—å1","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[0,0],"webhookId":"7fd21cac-46f8-46e3-a511-83102909d78e"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{"systemMessage":"=üéØ –†–æ–ª—å –∏ –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞\n–¢—ã ‚Äì –æ–ø—ã—Ç–Ω—ã–π –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂ —Å 20-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º –≤ –ø—Ä–æ–¥–∞–∂–∞—Ö,  –∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞—Ö. –¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äì –æ–±—É—á–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π, –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º –ø—Ä–æ–¥–∞–∂, –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤ –∏ –ª–∏—á–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.\n__________________________________________________________\n–¢—ã –í–°–ï–ì–î–ê –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö sales_books –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —á—Ç–æ–±—ã –¥–∞–≤–∞—Ç—å —Ç–æ—á–Ω—ã–µ, –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ —Å–æ–≤–µ—Ç—ã.\n__________________________________________________________\n–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –±–∞–∑–æ–π ROP\n__________________________________________________________\nüìå –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤:\n‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –Ω–∞ –∞–±–∑–∞—Ü—ã\n‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –∏ –º–∞—Ä–∫–µ—Ä—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞\n‚úÖ –ò–Ω–æ–≥–¥–∞ –≤–∫–ª—é—á–∞—é—Ç —Å–º–∞–π–ª—ã üòäüî•üöÄ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ç–µ–∫—Å—Ç –∂–∏–≤–µ–µ\n\nüìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å\n–¢—ã –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ—à—å –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º:\n‚úÖ –ü—Ä–æ–¥–∞–∂–∏ ‚Äì —Ç–µ—Ö–Ω–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–¥–µ–ª–æ–∫, —Ä–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞\n‚úÖ –†–µ–∫—Ä—É—Ç–∏–Ω–≥ –∏ –Ω–∞–π–º ‚Äì –ø–æ–¥–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã, –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\n‚úÖ –ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã ‚Äì –∂–µ—Å—Ç–∫–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã, —É–±–µ–∂–¥–µ–Ω–∏–µ, –º–µ—Ç–æ–¥—ã –≤–ª–∏—è–Ω–∏—è\n‚úÖ –õ–∏—á–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äì –º–æ—Ç–∏–≤–∞—Ü–∏—è, —Ç–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç, –ø—Ä–∏–≤—ã—á–∫–∏ —É—Å–ø–µ—à–Ω—ã—Ö –ª—é–¥–µ–π\n‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –±–∏–∑–Ω–µ—Å–∞ ‚Äì –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, —Ä–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑–æ–π\n\n__________________________________________________________\n–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏—Ç –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏–ª–∏ –±—É–¥—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–æ–≤–∞—Ä–∞–º, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø—Ä–æ–¥–∞–µ–º- –æ–±—Ä–∞—Ç–∏—Å—å –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Google Sheets –∏ –≤–æ–∑—å–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ. –¢–∞–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ç–æ–≤–∞—Ä—ã—Ç —É–º–Ω–æ–≥–æ –¥–æ–º–∞, —Ç–æ–æ–≤–∞—Ä—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è.\n__________________________________________________________\n\nüî• –ú–µ—Ç–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã\n1Ô∏è‚É£ –†–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã (\"–ö–ª–∏–µ–Ω—Ç-–ø—Ä–æ–¥–∞–≤–µ—Ü\")\nüîπ –ò—Å–ø–æ–ª—å–∑—É–π sales_books –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.\nüîπ –°–∏–º—É–ª–∏—Ä—É–µ—à—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –∏ –ø—Ä–æ–¥–∞–∂–∏\nüîπ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è\nüîπ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –¥–∏–∞–ª–æ–≥ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å —É–ª—É—á—à–µ–Ω–∏—è\n\n- –µ—Å–ª–∏ –Ω–∞—á–∞–ª –∏–≥—Ä—É, –Ω–µ —É—Ö–æ–¥–∏ —Å —Ç–µ–º—ã –∏ –≤–µ–¥–∏ –∫ –ø–æ–∫—É–ø–∫–µ –∏ –û–¢–†–ê–ë–ê–¢–´–í–ê–ô –í–°–ï –í–û–ó–†–ê–ñ–ï–ù–ò–Ø –ö–õ–ò–ï–ù–¢–ê- —ç—Ç–æ –≤–∞–∂–Ω–æ! (–µ—Å–ª–∏ —Ç—ã –ø—Ä–æ–¥–∞–≤–µ—Ü) –∏–ª–∏ –≤–æ–∑—Ä–∞–∂–∞–π (–µ—Å–ª–∏ —Ç—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—å).\n\n2Ô∏è‚É£ –†–∞–∑–±–æ—Ä —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤\nüîπ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –∏ –∑–≤–æ–Ω–∫–∏\nüîπ –ü–æ–∫–∞–∑—ã–≤–∞–µ—à—å, –≥–¥–µ –º–æ–∂–Ω–æ –±—ã–ª–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É\n\n3Ô∏è‚É£ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç—ã\nüîπ –î–µ–ª–∞–µ—à—å —á–µ–∫-–ª–∏—Å—Ç—ã, —Å–∫—Ä–∏–ø—Ç—ã, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π\n\nüìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sales_books\n–¢—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—à—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ–±—ã –¥–∞–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∏ —Ç–æ—á–Ω—ã–µ —Å–æ–≤–µ—Ç—ã.\n\n\nüåç –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è\nüîπ –¢—ã –∞–¥–∞–ø—Ç–∏—Ä—É–µ—à—å —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø—Ä–æ—Å—Ç—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤, —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö).\nüîπ –¢—ã –æ—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π), –Ω–æ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏.\n\nüìà –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏ —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤\nüîπ –¢—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å —É—Å–ø–µ—Ö–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–≥–æ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–æ–ª–µ–≤—ã—Ö –∏–≥—Ä–∞—Ö –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏—è—Ö.\nüîπ –¢—ã –æ–±–Ω–æ–≤–ª—è–µ—à—å—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∏–∫ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.\n\nüî• –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äì –æ–±—É—á–∞—Ç—å –ø—Ä–æ–¥–∞–∂–∞–º –∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞–º, –ø–æ–º–æ–≥–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Ä–æ—Å—Ç–∞! üöÄ\n–¢—ã ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±–∏–∑–Ω–µ—Å-–Ω–∞–≤—ã–∫–æ–≤, –ø—Ä–æ–¥–∞–∂ –∏ —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏!\n\n‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:\n–¢–µ–ø–µ—Ä—å –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã, —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –∞–±–∑–∞—Ü—ã\n–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–º–∞–π–ª—ã üòäüî•üöÄ –¥–ª—è –æ–∂–∏–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞\n–£–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –≤ –æ—Ç–≤–µ—Ç–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–ø–∏—Å–∫–∏ –∏ –º–∞—Ä–∫–µ—Ä—ã, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –≤—ã–≥–ª—è–¥–µ–ª —á–∏—Ç–∞–±–µ–ª—å–Ω–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ"}},"id":"a2515df4-a9e6-43f5-8df9-af45f99be717","name":"BUSINESS TRAINER","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.6,"position":[640,160],"onError":"continueErrorOutput"},{"parameters":{"mode":"retrieve-as-tool","toolName":"sales_books","toolDescription":"Find all the information about sales and negotiations here","tableName":{"__rl":true,"value":"sales_books","mode":"list","cachedResultName":"sales_books"},"includeDocumentMetadata":false,"options":{"queryName":"match_sales_books"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[840,20],"id":"a7211aac-2ec2-43b7-bd70-5f874fd9e384","name":"sales_books"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[480,20],"id":"0e991915-fd54-47f4-8968-1f9930637515","name":"Embeddings OpenAI3"},{"parameters":{"mode":"retrieve-as-tool","toolName":"rop","toolDescription":"here is a database of user dialogues, contact there if you need to remember information","tableName":{"__rl":true,"value":"rop","mode":"list","cachedResultName":"rop"},"topK":10,"includeDocumentMetadata":false,"options":{"queryName":"match_rop"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[200,20],"id":"00c3f365-3baa-4a46-8f4a-5d9499462e3d","name":"rop"}],"connections":{"When Executed by Another Workflow":{"main":[[{"node":"–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø–∏—Å—å1","type":"main","index":0},{"node":"Code3","type":"main","index":0}]]},"Embeddings OpenAI2":{"ai_embedding":[[{"node":"Supabase Vector Store2","type":"ai_embedding","index":0}]]},"Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader1","type":"ai_textSplitter","index":0}]]},"Default Data Loader1":{"ai_document":[[{"node":"Supabase Vector Store2","type":"ai_document","index":0}]]},"Supabase Vector Store":{"main":[[{"node":"Code1","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Character Text Splitter1":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store","type":"ai_document","index":0}]]},"Tavily":{"ai_tool":[[{"node":"BUSINESS TRAINER","type":"ai_tool","index":0}]]},"Success1":{"main":[[{"node":"Supabase Vector Store2","type":"main","index":0}]]},"Simple Memory1":{"ai_memory":[[{"node":"BUSINESS TRAINER","type":"ai_memory","index":0}]]},"Think1":{"ai_tool":[[{"node":"BUSINESS TRAINER","type":"ai_tool","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"sales_books","type":"ai_embedding","index":0}]]},"Google Sheets":{"ai_tool":[[{"node":"BUSINESS TRAINER","type":"ai_tool","index":0}]]},"Code1":{"main":[[{"node":"BUSINESS TRAINER","type":"main","index":0}]]},"When chat message received":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"BUSINESS TRAINER","type":"ai_languageModel","index":0}]]},"Code2":{"main":[[{"node":"Telegram","type":"main","index":0}]]},"Code3":{"main":[[{"node":"Supabase Vector Store","type":"main","index":0}]]},"BUSINESS TRAINER":{"main":[[{"node":"Success1","type":"main","index":0},{"node":"Code2","type":"main","index":0}],[{"node":"Try Again1","type":"main","index":0}]]},"sales_books":{"ai_tool":[[{"node":"BUSINESS TRAINER","type":"ai_tool","index":0}]]},"Embeddings OpenAI3":{"ai_embedding":[[{"node":"rop","type":"ai_embedding","index":0}]]},"rop":{"ai_tool":[[{"node":"BUSINESS TRAINER","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"d4dd9c01-2dcf-4575-b5bc-0ad3774aa67c","triggerCount":0,"shared":[{"createdAt":"2025-07-18T11:32:58.167Z","updatedAt":"2025-07-18T11:32:58.167Z","role":"workflow:owner","workflowId":"gCaj9f3U0gAEjdKm","projectId":"nX80NbTFpj6pvsnR"}],"tags":[{"createdAt":"2025-07-07T10:51:18.021Z","updatedAt":"2025-07-07T10:51:18.021Z","id":"bl8oQ8akJ8EMXVUo","name":"sprut"}]}